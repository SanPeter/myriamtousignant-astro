---
import { getCollection, render } from 'astro:content';
import BiographieLayout from '../../layouts/BiographieLayout.astro';

// Récupération de la biographie
const biographieEntries = await getCollection('biographie-demarche');
const biographie = biographieEntries.find(entry => entry.id === '_index.md') || biographieEntries[0];
const { Content, headings } = await render(biographie);
---

<BiographieLayout 
  title={biographie?.data.title || "Biographie & Démarche"}
  description={biographie?.data.description}
>
  <div class="bg-white p-6 rounded-lg shadow-md">
    {biographie?.data.heroImage && (
      <img 
        src={biographie.data.heroImage} 
        alt={biographie.data.title || "Myriam Tousignant"} 
        class="w-full max-h-96 object-contain mb-6"
      />
    )}
      
      {biographie?.data.description && (
        <div class="mt-4 mb-6">
          <p class="text-lg text-gray-700 italic">{biographie.data.description}</p>
        </div>
      )}
      
      <div class="prose max-w-none">
        <Content />
      </div>
  </div>
</BiographieLayout>
